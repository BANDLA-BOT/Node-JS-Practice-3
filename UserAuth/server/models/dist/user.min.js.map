{"version":3,"sources":["user.js"],"names":["mongoose","require","jwt","passwordComplexity","Joi","Schema","firstName","type","String","required","email","userSchema","methods","generateAuthToken","sign","_id","this","process","env","ACCESS_KEY","expiresIn","User","model","data","object","string","label","password","validate"],"mappings":"aAAA,IAAMA,SAAWC,QAAQ,YACnBC,IAAKD,QAAQ,gBADbD,IAAQC,QAAGA,OAGXE,mBAAqBF,QAAQ,2BAD7BG,WAAc,IAADJ,SAAnBK,OAAA,CAKIC,UAAU,CAACC,KAAKC,OAAQC,UAAS,GAJ/BN,SAAAA,CAAAA,KAAAA,OAAqBF,UAAQ,GAM/BS,MAAM,CAACH,KAAKC,OAAQC,UAAS,GAH3BE,SAAAA,CAAUJ,KAAGC,OAAIR,UAAJ,KACLW,WADyBC,QAAAC,kBAAA,WAEzBN,OAADL,IAAAY,KAAA,CAAAC,IAAAC,KAAAD,KAAAE,QAAAC,IAAAC,WAAA,CAAAC,UAAA,QAAA,IAF0BC,KAAArB,SAAAsB,MAAA,OAAAX,YAG5BJ,SAAD,SAAAgB,GAHV,OAGiCnB,IAAAoB,OAAA,CAHMlB,UAAAF,IAAAqB,SAAAhB,WAAAiB,MAAA,cAInCC,SAASvB,IAAAqB,SAAAhB,WAAAiB,MAAA,aAAKhB,MAACF,IAANiB,SAAAhB,WAAAiB,MAAA,SAAcjB,SAASN,qBAAAM,WAAAiB,MAAA,cAJpCE,SAAAL,IAQAZ,OAAAA,QAAWC,CAAXS,KAAAA,KAAmBR,SAAAA","file":"user.min.js","sourcesContent":["const mongoose = require('mongoose');\r\nconst jwt =require('jsonwebtoken')\r\nconst Joi = require('joi');\r\nconst passwordComplexity = require('joi-password-complexity')\r\n\r\n\r\nconst userSchema = new mongoose.Schema({\r\n    firstName:{type:String, required:true},\r\n    lastName:{type:String, required:true},\r\n    email:{type:String, required:true},\r\n    password:{type:String, required:true}\r\n});\r\n\r\n\r\nuserSchema.methods.generateAuthToken =function(){\r\n    const token = jwt.sign({_id:this._id}, process.env.ACCESS_KEY, {expiresIn:\"7d\"})\r\n    return token\r\n}\r\nconst User = mongoose.model(\"user\", userSchema)\r\n\r\nconst validate = (data)=>{\r\n    const schema = Joi.object({\r\n        firstName:Joi.string().required().label(\"First name\"),\r\n        lastName:Joi.string().required().label(\"Last name\"),\r\n        email:Joi.string().required().label(\"Email\"),\r\n        password:passwordComplexity().required().label(\"Password\")\r\n    })\r\n    return schema.validate(data)\r\n}\r\nmodule.exports = {User, validate}"]}